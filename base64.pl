
use MIME::Base64;

sub enc {
	my $instr = shift;
	print "encode string: '$instr'\n";
	my $outstr = encode_base64($instr);
	print "           ==> '$outstr'\n";
}

sub dec {
	my $instr = shift;
	print "decode string: '$instr'\n";
	my $outstr = decode_base64($instr);
	print "           ==> '$outstr'\n";
}


my $bas64str1 = "eyJhbGciOiJSUzI1NiJ9.eyJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9pZGVudGl0eVwvdW5sb2NrVGltZSI6IjAiLCJzdWIiOiJhbmRyZWFzX2xhbmdAdHJpbWJsZS5jb20iLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9hY2NvdW50bmFtZSI6InRyaW1ibGUuY29tIiwiYXpwIjoiSEE3NG02UFBZN1NzX19zejBVTVVER2ltTVlZYSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2ZpcnN0bmFtZSI6IkFuZHJlYXMiLCJhdF9oYXNoIjoiVTJKTjdtOEJfbGxjMFM0TjN0TUYzdyIsImlzcyI6Imh0dHBzOlwvXC9pZGVudGl0eS1zdGcudHJpbWJsZS5jb20iLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9sYXN0bmFtZSI6IkxhbmciLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC90ZWxlcGhvbmUiOiIrNDk4OTg5MDU3MTQ4NCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL3V1aWQiOiI2YmM5YTllMS1hNTI3LTQ0NWMtYWNlNS1lZTEyMTZkNmRjMjgiLCJpYXQiOjE0Nzc0ODY2OTAsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2dpdmVubmFtZSI6IkFuZHJlYXMiLCJhdXRoX3RpbWUiOjE0Nzc0NzAxNzUsImV4cCI6MTQ3NzQ5MDI5MCwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvaWRlbnRpdHlcL2ZhaWxlZExvZ2luQXR0ZW1wdHMiOiIwIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvaWRlbnRpdHlcL2FjY291bnRMb2NrZWQiOiJmYWxzZSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2NvdW50cnkiOiJHZXJtYW55IiwiYXVkIjpbIkhBNzRtNlBQWTdTc19fc3owVU1VREdpbU1ZWWEiXSwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvZW1haWxhZGRyZXNzIjoiYW5kcmVhc19sYW5nQHRyaW1ibGUuY29tIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYWNjb3VudHVzZXJuYW1lIjoiYW5kcmVhc19sYW5nIn0.gyZmMY5lx5Kzko5cLwJY04TUBpe3VXxklSNImqCWt6wM5PB9NKtkh5cczQf0gw53NuIzNKIYPMIj__BGYjTJ5Dc_VUdFk0QLA2XdCTX82EpxJ1AGg3a9Ny0XRGmzzjQoiVm_r2BiKuxxN0-6yPdnEtwX85HNwJnFNBfQv4PnKXg";
my $bas64str2 = "eyJhbGciOiJSUzI1NiJ9.eyJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9pZGVudGl0eVwvdW5sb2NrVGltZSI6IjAiLCJzdWIiOiJhbmRyZWFzX2xhbmdAdHJpbWJsZS5jb20iLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9hY2NvdW50bmFtZSI6InRyaW1ibGUuY29tIiwiYXpwIjoiSEE3NG02UFBZN1NzX19zejBVTVVER2ltTVlZYSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2ZpcnN0bmFtZSI6IkFuZHJlYXMiLCJhdF9oYXNoIjoibDBJQ21MNjRORndRY2FNNVVYb2R3dyIsImlzcyI6Imh0dHBzOlwvXC9pZGVudGl0eS1zdGcudHJpbWJsZS5jb20iLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC9sYXN0bmFtZSI6IkxhbmciLCJodHRwOlwvXC93c28yLm9yZ1wvY2xhaW1zXC90ZWxlcGhvbmUiOiIrNDk4OTg5MDU3MTQ4NCIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL3V1aWQiOiI2YmM5YTllMS1hNTI3LTQ0NWMtYWNlNS1lZTEyMTZkNmRjMjgiLCJpYXQiOjE0Nzc1Nzg3NzcsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2dpdmVubmFtZSI6IkFuZHJlYXMiLCJhdXRoX3RpbWUiOjE0Nzc1NzQ1MDAsImV4cCI6MTQ3NzU4MjM3NywiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvaWRlbnRpdHlcL2ZhaWxlZExvZ2luQXR0ZW1wdHMiOiIwIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvaWRlbnRpdHlcL2FjY291bnRMb2NrZWQiOiJmYWxzZSIsImh0dHA6XC9cL3dzbzIub3JnXC9jbGFpbXNcL2NvdW50cnkiOiJHZXJtYW55IiwiYXVkIjpbIkhBNzRtNlBQWTdTc19fc3owVU1VREdpbU1ZWWEiXSwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvZW1haWxhZGRyZXNzIjoiYW5kcmVhc19sYW5nQHRyaW1ibGUuY29tIiwiaHR0cDpcL1wvd3NvMi5vcmdcL2NsYWltc1wvYWNjb3VudHVzZXJuYW1lIjoiYW5kcmVhc19sYW5nIn0.pI823Ukg7M9P7vK0_AtsUlvqf7v05NIvvATRYJbRY8psynOpfQ8YoE_r4-M0-PP53-oLnYnuIXA3U_SHu7nNhvDBzPNf1ddBHUkqMXQEFM-_Pi3FSwz-e16DQ7RJ4AKYZ8MMK0WIZHWyjjYxjPcSrnKVWJjrLKeYmX41Dt1Hd5I";

#enc("hello world");
#enc("{");
#enc("}");
enc("{\"alg\":\"RS256\"}");

#dec($bas64str1);
dec($bas64str2);
